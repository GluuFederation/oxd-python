{% extends 'base.html' %}

{% block content %}
  <div class="page-header">
    <h1>oxd-python UMA Demo Application</h1>
  </div>

  <div class="row">
    <div class="col-md-3">

      {% if status == 'protected' %}
        <div class="alert alert-success" role="alert">
          <p><i class="glyphicon glyphicon-ok-circle"></i> Resource Protected</p>

        </div>
      {% elif status == 'failed' %}
        <div class="alert alert-danger" role="alert">
          <p><i class="glyphicon glyphicon-remove-circle"></i> Resource Protection Failed</p>
        </div>
      {% endif %}

      {% if resource %}
      <table class="table table-bordered">
        <tr>
          <th>Resource</th>
          <td>{{ resource }}</td>
        </tr>
        <tr>
          <th>Scope</th>
          <td>{{ scope|join(",") }}</td>
        </tr>
        <tr>
          <th>HTTP Methods</th>
          <td>{{ http_method|join(",") }}</td>
        </tr>
      </table>
      {% endif %}

    </div>
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">UMA Resource Server</h3>
        </div>
        <div class="panel-body">
          <form action="{{ url_for('protect') }}" method="post">
            <div class="form-group">
              <label for="path">Resource</label>
              <input id="path" name="path" type="text" class="form-control">
            </div>

            <div class="form-group">
              <label for="scope">Scope</label>
              <input id="scope" name="scope" type="text" class="form-control">
            </div>

            <div class="form-group">
              <label for="http_method">Http Method</label>
              <select multiple name="http_method" id="http_method"
                      class="form-control">
                <option value="GET">GET</option>
                <option value="POST">POST</option>
              </select>
            </div>
            <button type="submit" class="btn btn-primary">Protect with Gluu Server</button>
          </form>
        </div>
      </div>

    </div>

  </div>


{% endblock content %}
